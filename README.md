## Автоматизация отправки ежедневного отчета с помощью Telegram-бота и Airflow
В проекте с помощью Telegram-бота реализована отправка в чат отчета для мониторинга основных метрик приложения:
- показатель среднего количества активных пользователей за всё время и сравнение с показателем предыдущего дня
- какая часть пользователей использует оба сервиса (новостную ленту и мессенджер) и сравнение с показателем предыдущего дня
- сравнение с помощью графика барплот изменения retention 7 дня по типу источника пользователей (органические пользователи и пользователи пришедшие после рекламных компаний)   

### Структура проекта
- `CH.py`— в модуле реализован класс Getch, объект которого подключается к базе данных и отправляет запрос, используя в качестве параметров для подключения переменные окружения
- daily_report_bot.py — с помощью Task flow API задан DAG и внутри него таски, вычисляющие метрики приложения. Финальный таск с помощью Telegram-бота и асинхронной функции отправляет отчёт по приложению. 

### Этапы реализации


### Использованные инструменты
Docker, Airflow 2.0, SQL, ClickHouse, python, pandas, seaborn, asyncio, API Telegram

### Описание данных
Все данные находятся в табличном виде в ClickHouse

**feed_actions**
|Название атрибута|Тип атрибута|
|-|--------|
| user_id | UInt32 |
| post_id | UInt32 |
| action | String |
| time | DATETIME |
| gender | Int8 |
| age | Int16 |
| country | String |
| city | String |
| os | String |
| source | String |
| exp_group | Int8 |

**message_actions**
|Название атрибута|Тип атрибута|
|-|--------|
| user_id | UInt32 |
| receiver_id | UInt32 |
| time | DATETIME |
| source | String |
| exp_group | Int8 |
| gender | Int8 |
| age | Int16 |
| country | String |
| city | String |
| os | String 
